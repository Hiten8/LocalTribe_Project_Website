<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bengaluru - LocalTribe</title>
    <link rel="stylesheet" href="styleCities.css">
</head>
<body class="cp">
    <div id="booking-sidebar" class="booking-sidebar">
        <div class="booking-sidebar-header">
            <h3>Your Selected Package</h3>
            <button onclick="closeBookingSidebar()" class="close-btn"><svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#1f1f1f"><path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/></svg></button>
        </div>
        <div id="booking-sidebar-content" class="booking-sidebar-content">
        </div>
        <div class="booking-sidebar-footer">
            <button class="proceed-button">Proceed to Book</button>
        </div>
    </div>
    <div id="overlay" class="overlay-dark" onclick="closeBookingSidebar()"></div>

    <header class="ch" style="background-image: url('../images/bengaluru1.jpg')">
        <div class="overlay">
            <h1>Bengaluru</h1>
            <p>The Silicon Valley of India</p>
        </div>
    </header>

    <main class="cContent">
        <section class="cd">
            <h2>Discover Bengaluru</h2>
            <p>Bengaluru, formerly called Bangalore, is the capital and largest city of the southern Indian state of Karnataka. It    is also known as The Garden City because of the beautiful Labagh Botanical Garden. It is regarded as a haven for tech enthusiasts alike as it is also the land of startups in India.</p>
            <p>The city never sleeps, offering visitors a vibrant mix of cultures, cuisines, and experiences. From the iconic Lalbagh Botanical Gardens and the famous Iskcon temple to the bustling Church Street and ever vibrant Indiranagar, Bengaluru presents an exciting blend of history, spirituality, and contemporary urban life.</p>
            <p>Whether you're seeking adventure, cultural immersion, religious experiences, or simply the electric atmosphere of India's most dynamic city, Bengaluru offers something for everyone.</p>
        </section>

        <section class="categories">
            <h2>Choose Your Bengaluru Experience</h2>
            <p>Select from our carefully curated packages designed for different travel styles:</p>
            
            <div class="categoryTypes">
                <button class="tab-button active" onclick="openCategory(event, 'adventure')">Adventure Seekers</button>
                <button class="tab-button" onclick="openCategory(event, 'explorer')">City Explorers</button>
                <button class="tab-button" onclick="openCategory(event, 'devotional')">Devotional Journey</button>
            </div>

            <div id="adventure" class="tab-content active">
                <h3>For Adventure Seekers</h3>
                <div class="packages">
                    <div class="packageCard">
                        <div class="packageImage" style="background-image: url('../images/bengaluru2.jpg')"></div>
                        <div class="packageDetails">
                            <h4>Thrilling Bengaluru - 3 Days/4 Nights</h4>
                            <ul>
                                <li>Ziplining at XtremeGetaways</li>
                                <li>A visit to Wonderla Amusement Park</li>
                                <li>Trek to Savandurga Hill</li>
                                <li>Night food trail in local street food hubs</li>
                                <li>Cycling tour of South Bengaluru</li>
                            </ul>
                            <div class="price">Starting from ‚Çπ24,999 per person</div>
                            <button class="book-button" onclick="showBookingDetails('adventure-3day', 'Thrilling Bengaluru - 3 Days/4 Nights', '‚Çπ24,999',this)">Book Now</button>
                        </div>
                    </div>

                    <div class="packageCard">
                        <div class="packageImage" style="background-image: url('../images/bengaluru3.avif')"></div>
                        <div class="packageDetails">
                            <h4>Bengaluru Adventure Plus - 4 Days/5 Nights</h4>
                            <ul>
                                <li>All activities in 3-day package plus:</li>
                                <li>Full-day trip to Bannerghatta National Park</li>
                                <li>Paragliding on Nandi Hills</li>
                                <li>Helicopter tour of Bengaluru skyline</li>
                                <li>Sunset dinner at a floating restaurant</li>
                            </ul>
                            <div class="price">Starting from ‚Çπ39,999 per person</div>
                            <button class="book-button" onclick="showBookingDetails('adventure-4day', 'Bengaluru Adventure Plus - 4 Days/5 Nights', '‚Çπ39,999',this)">Book Now</button>
                        </div>
                    </div>
                </div>
            </div>

            <div id="explorer" class="tab-content">
                <h3>For City Explorers</h3>
                <div class="packages">
                    <div class="packageCard">
                        <div class="packageImage" style="background-image: url('../images/bengaluru4.webp')"></div>
                        <div class="packageDetails">
                            <h4>Cultural Bengaluru - 3 Days/4 Nights</h4>
                            <ul>
                                <li>Guided tour Bengaluru Fort and Tipu Sultan's Summer Palace</li>
                                <li>Visit to KR Market</li>
                                <li>Vidhana Soudha tour</li>
                                <li>Cubbon Park and Vishweshwarya Musuem Tour</li>
                                <li>Evening at M.G Road and Brigade Road</li>
                            </ul>
                            <div class="price">Starting from ‚Çπ19,999 per person</div>
                            <button class="book-button" onclick="showBookingDetails('explorer-3day', 'Cultural Bengaluru - 3 Days/4 Nights', '‚Çπ19,999',this)">Book Now</button>
                        </div>
                    </div>

                    <div class="packageCard">
                        <div class="packageImage" style="background-image: url('../images/bengaluru5.webp')"></div>
                        <div class="packageDetails">
                            <h4>Bengaluru Deep Dive - 4 Days/5 Nights</h4>
                            <ul>
                                <li>All activities in 3-day package plus:</li>
                                <li>Visit to Bull temple</li>
                                <li>Vibrant Church Street exploration involving cafes and bookstores</li>
                                <li>Cooking class with Bengaluru specialties</li>
                                <li>Shopping tour of fashion districts</li>
                            </ul>
                            <div class="price">Starting from ‚Çπ29,999 per person</div>
                            <button class="book-button" onclick="showBookingDetails('explorer-4day', 'Bengaluru Deep Dive - 4 Days/5 Nights', '‚Çπ29,999',this)">Book Now</button>
                        </div>
                    </div>
                </div>
            </div>

            <div id="devotional" class="tab-content">
                <h3>For Devotional Journey</h3>
                <div class="packages">
                    <div class="packageCard">
                        <div class="packageImage" style="background-image: url('../images/bengaluru6.jpg')"></div>
                        <div class="packageDetails">
                            <h4>Spiritual Bengaluru - 3 Days/4 Nights</h4>
                            <ul>
                                <li>Visit to DoddaBasavanaGudi with morning aarti</li>
                                <li>Gavi Gangadhareshwara Temple tour</li>
                                <li>ISKCON Temple visit with prasad</li>
                                <li>Sri Dharmaraya Swamy Temple visit</li>
                                <li>Walking tour of Omkar Hills</li>
                            </ul>
                            <div class="price">Starting from ‚Çπ18,999 per person</div>
                            <button class="book-button" onclick="showBookingDetails('devotional-3day', 'Spiritual Bengaluru - 3 Days/4 Nights', '‚Çπ18,999',this)">Book Now</button>
                        </div>
                    </div>

                    <div class="packageCard">
                        <div class="packageImage" style="background-image: url('../images/bengaluru7.jpg')"></div>
                        <div class="packageDetails">
                            <h4>Divine Bengaluru Plus - 4 Days/5 Nights</h4>
                            <ul>
                                <li>All activities in 3-day package plus:</li>
                                <li>Day trip to Nandi Hills</li>
                                <li>Evening aarti at Someshwara Temple</li>
                                <li>Visit to Banashankari Amma Temple</li>
                                <li>Spiritual discourse with local guru</li>
                            </ul>
                            <div class="price">Starting from ‚Çπ27,999 per person</div>
                            <button class="book-button" onclick="showBookingDetails('devotional-4day', 'Divine Bengaluru Plus - 4 Days/5 Nights', '‚Çπ27,999',this)">Book Now</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <div class="footer-content">
            <div class="footer-section">
                <h3>LocalTribe</h3>
                <p>Discover India's hidden gems with authentic local experiences.</p>
            </div>
            <div class="footer-section">
                <h3>Quick Links</h3>
                <ul>
                    <li><a href="../index.html">Home</a></li>
                    <li><a href="#">About Us</a></li>
                    <li><a href="#">Contact</a></li>
                    <li><a href="#">FAQ</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h3>Contact Us</h3>
                <p>Email: info@localtribe.com</p>
                <p>Phone: +91 98765 43210</p>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2025 LocalTribe. All rights reserved.</p>
        </div>
    </footer>

    <div class="chat-widget">
        <div class="chat-toggle">
            <span class="chat-icon">üí¨</span>
            <span class="chat-text">Chat with us</span>
        </div>
        <div class="chat-container">
            <div class="chat-header">
                <h3>LocalTribe Support</h3>
                <button class="close-chat"></button>
            </div>
            <div class="chat-messages">
            </div>
            <div class="chat-input-container">
                <input type="text" placeholder="Type your message...">
                <button>Send</button>
            </div>
        </div>
    </div>

    <script>
       function openCategory(evt, categoryName) {
            const tabContents = document.getElementsByClassName("tab-content");
            for (let i = 0; i < tabContents.length; i++) {
                tabContents[i].classList.remove("active");
            }

            const tabButtons = document.getElementsByClassName("tab-button");
            for (let i = 0; i < tabButtons.length; i++) {
                tabButtons[i].classList.remove("active");
            }

            document.getElementById(categoryName).classList.add("active");
            evt.currentTarget.classList.add("active");
        }
        function showBookingDetails(packageId, packageName, packagePrice, buttonElement) {
        const packageCard = buttonElement.closest('.packageCard');
        const packageImage = packageCard.querySelector('.packageImage').style.backgroundImage;
        const packageItems = packageCard.querySelectorAll('.packageDetails ul li');
    
        let itemsHtml = '';
        packageItems.forEach(item => {
            itemsHtml += `<li>${item.textContent}</li>`;
        });
    
        const sidebarContent = document.getElementById('booking-sidebar-content');
        sidebarContent.innerHTML = `
            <div class="sidebar-package-image" style="${packageImage}"></div>
            <h4>${packageName}</h4>
            <div class="sidebar-package-price">${packagePrice} per person</div>
        
            <div class="sidebar-section">
                <h5>Package Includes:</h5>
                <ul>${itemsHtml}</ul>
            </div>
        
            <div class="sidebar-section">
                <h5>Customize Your Trip</h5>
                <div class="form-group">
                    <label for="travel-date">Travel Date:</label>
                    <input type="date" id="travel-date" min="${getTomorrowDate()}" required>
                </div>
            
                <div class="form-group">
                    <label for="num-travelers">Number of Travelers:</label>
                    <select id="num-travelers">
                        <option value="1">1 Person</option>
                        <option value="2" selected>2 People</option>
                        <option value="3">3 People</option>
                        <option value="4">4 People</option>
                        <option value="5">5+ People (Group Discount)</option>
                    </select>
                </div>
            
                <div class="form-group">
                    <label for="accommodation">Accommodation Preference:</label>
                    <select id="accommodation">
                        <option value="standard">Standard</option>
                        <option value="deluxe">Deluxe</option>
                        <option value="premium">Premium</option>
                    </select>
                </div>
            </div>
        `;
    
        document.getElementById('booking-sidebar').classList.add('active');
        document.getElementById('overlay').classList.add('active');
        document.body.style.overflow = 'hidden'; 
        }
        
        function closeBookingSidebar() {
            document.getElementById('booking-sidebar').classList.remove('active');
            document.getElementById('overlay').classList.remove('active');
            document.body.style.overflow = 'auto'; 
        }
        
        function getTomorrowDate() {
            const tomorrow = new Date();
            tomorrow.setDate(tomorrow.getDate() + 1);
            return tomorrow.toISOString().split('T')[0];
        }

        document.addEventListener('DOMContentLoaded', function() {
        const chatToggle = document.querySelector('.chat-toggle');
        const chatContainer = document.querySelector('.chat-container');
        const closeChat = document.querySelector('.close-chat');
        const chatInput = document.querySelector('.chat-input-container input');
        const chatSendButton = document.querySelector('.chat-input-container button');
        const chatMessages = document.querySelector('.chat-messages');

        chatToggle.addEventListener('click', function() {
            chatContainer.style.display = chatContainer.style.display === 'flex' ? 'none' : 'flex';
        });

        closeChat.addEventListener('click', function() {
            chatContainer.style.display = 'none';
        });

        function sendMessage() {
            const messageText = chatInput.value.trim();
            if (messageText) {
                const userMessageEl = document.createElement('div');
                userMessageEl.classList.add('message', 'user');
                userMessageEl.innerHTML = `
                    <div class="message-content">${messageText}</div>
                `;
                chatMessages.appendChild(userMessageEl);

                chatInput.value = '';

                chatMessages.scrollTop = chatMessages.scrollHeight;

                setTimeout(() => {
                    const botMessageEl = document.createElement('div');
                    botMessageEl.classList.add('message', 'bot');
                    botMessageEl.innerHTML = `
                        <div class="message-content">Thanks for your message! How can I help you with your Bengaluru trip?</div>
                    `;
                    chatMessages.appendChild(botMessageEl);
                    chatMessages.scrollTop = chatMessages.scrollHeight;
                }, 1000);
            }
        }

        chatSendButton.addEventListener('click', sendMessage);

        chatInput.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                sendMessage();
            }
        });
    });

    class LocalTribeChatbot {
    constructor(apiKey) {
        this.apiKey = apiKey;
        this.conversationHistory = [];
        this.chatContainer = document.querySelector('.chat-messages');
        this.chatInput = document.querySelector('.chat-input-container input');
        this.chatSendButton = document.querySelector('.chat-input-container button');

        this.initializeEventListeners();
    }

    initializeEventListeners() {
        this.chatSendButton.addEventListener('click', () => this.sendMessage());
        this.chatInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') this.sendMessage();
        });
    }

    async sendMessage() {
        const userMessage = this.chatInput.value.trim();
        if (!userMessage) return;

        this.displayMessage(userMessage, 'user');
        this.chatInput.value = '';

        try {
            this.displayTypingIndicator();

            const aiResponse = await this.getAIResponse(userMessage);

            this.removeTypingIndicator();

            this.displayMessage(aiResponse, 'bot');
        } catch (error) {
            console.error('Error getting AI response:', error);
            this.displayMessage('Sorry, I\'m having trouble responding right now.', 'bot');
        }
    }

    displayMessage(message, type) {
        const messageEl = document.createElement('div');
        messageEl.classList.add('message', type);
        messageEl.innerHTML = `
            <div class="message-content">${message}</div>
        `;
        this.chatContainer.appendChild(messageEl);
        this.scrollToBottom();
    }

    displayTypingIndicator() {
        const typingEl = document.createElement('div');
        typingEl.classList.add('message', 'bot', 'typing-indicator');
        typingEl.innerHTML = `
            <div class="message-content">
                <span>‚óè</span><span>‚óè</span><span>‚óè</span>
            </div>
        `;
        this.chatContainer.appendChild(typingEl);
        this.scrollToBottom();
    }

    removeTypingIndicator() {
        const typingIndicator = this.chatContainer.querySelector('.typing-indicator');
        if (typingIndicator) {
            typingIndicator.remove();
        }
    }

    scrollToBottom() {
        this.chatContainer.scrollTop = this.chatContainer.scrollHeight;
    }

        async getAIResponse(userMessage) {
            const contextualPrompt = `You are a helpful travel assistant for LocalTribe, specializing in providing information about Bengaluru. 
            You should help users with:
            - Travel packages
            - Tourist attractions
            - Local experiences
            - Cultural insights
            - Travel tips

            User's message: ${userMessage}`;

            try {
                const response = await fetch('https://api.gemini.com/v1/chat/completions', {
                    method: 'POST',
                    headers:    {
                        'Authorization': `Bearer ${this.apiKey}`,
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        model: "gpt-3.5-turbo",
                        messages: [
                            {
                                role: "system",
                                content: "You are a helpful travel assistant for LocalTribe, focusing on Bengaluru tourism."
                            },
                            {
                                role: "user",
                                content: contextualPrompt
                            }
                        ],
                        max_tokens: 150,
                        temperature: 0.7
                    })
                });

                if (!response.ok) {
                    throw new Error('Network response was not ok');
                }

                const data = await response.json();
                return data.choices[0].message.content.trim();
            } catch (error) {
                console.error('Error fetching AI response:', error);
                return 'Sorry, I\'m having trouble processing your request right now.';
            }
        }
    }


    document.addEventListener('DOMContentLoaded', () => {
    const Gemini_API_KEY = 'gemini-api-key';
    
    const chatMessages = document.querySelector('.chat-messages');
    const welcomeMessage = document.createElement('div');
    welcomeMessage.classList.add('message', 'bot');
    welcomeMessage.innerHTML = `
        <div class="message-content">
            Welcome to LocalTribe! I'm your Bengaluru travel assistant. 
            Ask me anything about our Bengaluru packages, attractions, or travel tips.
        </div>
    `;
    chatMessages.appendChild(welcomeMessage);

    window.localTribeChatbot = new LocalTribeChatbot(Gemini_API_KEY);
    });
    </script>
</body>
</html>